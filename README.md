# Book-Recommender

for tests

pip install pytest pytest-asyncio httpx pytest-cov

Ð’Ð¾Ñ‚ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹Ð¹ `README.md` Ð´Ð»Ñ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð²ÑÐµÐ¼ ÐºÑ€Ð¸Ñ‚ÐµÑ€Ð¸ÑÐ¼:

# Book Recommender API

API Ð´Ð»Ñ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ ÐºÐ½Ð¸Ð³ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ñ… Ð¾Ñ†ÐµÐ½Ð¾Ðº Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð° ÐºÐ¾Ð»Ð»Ð°Ð±Ð¾Ñ€Ð°Ñ‚Ð¸Ð²Ð½Ð¾Ð¹ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸.

## ðŸ“Œ ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸

- CRUD Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ ÐºÐ½Ð¸Ð³, Ð°Ð²Ñ‚Ð¾Ñ€Ð¾Ð², Ð¶Ð°Ð½Ñ€Ð¾Ð² Ð¸ Ñ€ÐµÐ¹Ñ‚Ð¸Ð½Ð³Ð¾Ð²
- ÐÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· JWT Ñ‚Ð¾ÐºÐµÐ½Ñ‹
- Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¹ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ ÐºÐ¾ÑÐ¸Ð½ÑƒÑÐ½Ð¾Ð³Ð¾ ÑÑ…Ð¾Ð´ÑÑ‚Ð²Ð°
- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ ÐºÐ½Ð¸Ð³ Ð¿Ð¾ Ð°Ð²Ñ‚Ð¾Ñ€Ñƒ, Ð¶Ð°Ð½Ñ€Ñƒ Ð¸ Ð³Ð¾Ð´Ñƒ Ð¸Ð·Ð´Ð°Ð½Ð¸Ñ
- Ð Ð°ÑÑ‡ÐµÑ‚ ÑÑ€ÐµÐ´Ð½ÐµÐ³Ð¾ Ñ€ÐµÐ¹Ñ‚Ð¸Ð½Ð³Ð° ÐºÐ½Ð¸Ð³

## ðŸš€ Ð—Ð°Ð¿ÑƒÑÐº Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

1. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ**:

   ÐŸÐ¾Ð½Ð°Ð´Ð¾Ð±Ð¸Ñ‚ÑÑ Ð´Ð²Ð° Ñ„Ð°Ð¹Ð»Ð° - `app.env` Ð¸ `db.env` Ð² Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ `env`.
   Ð”Ð»Ñ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ñ‚Ñ‹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸, Ð¾Ð½Ð¸ Ð±Ñ‹Ð»Ð¸ Ð·Ð°ÐºÐ¾Ð¼Ð¼Ð¸Ñ‡ÐµÐ½Ñ‹ Ð² Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ (Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ñ‚Ð°Ðº Ð½Ðµ Ð´ÐµÐ»Ð°ÑŽÑ‚).

   Ð’ `app.env` Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ:
    ```
    DB_HOST=localhost
    DB_PORT=5432
    DB_NAME=book_recommender
    DB_USER=backend
    DB_PASS=Salfetka6
    
    ADMIN_EMAIL=admin@example.com
    ADMIN_USER=admin
    ADMIN_PASS=admin
    
    TEST_DB_NAME=book_recommender_test
    
    SECRET_KEY=86bd6eb3dcbeb6b6a8b59fce81f7a4d4ae0d0ae3ae803d302fbb96f41988478c
    ACCESS_TOKEN_EXPIRE_MINUTES=30
    ```

   Ð’ `db.env` Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…:
    ```
    POSTGRES_DB=book_recommender
    POSTGRES_USER=dbadmin
    POSTGRES_PASSWORD=Salfetka5
    ```

2. **Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ñ Ð±Ð°Ð·Ð¾Ð¹ Ð´Ð°Ð½Ð½Ñ‹Ñ…**:
   ```bash
   docker-compose up -d db
   ```

3. **Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸**:
   ```bash
   python -m venv .venv
   . .venv/bin/activate
   pip install -r requirements.txt
   ```

4. **ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸**:
   ```bash
   alembic upgrade head
   ```

5. **Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ**:
   ```bash
   fastapi run app/main.py
   ```

**ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ**:

```
http://localhost:8000
```

## ðŸ“„ Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ API

ÐŸÐ¾ÑÐ»Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÐ°Ð¼:

- Swagger UI: [/docs](http://localhost:8000/docs)

## ðŸ§ª Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

Ð”Ð»Ñ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ñ‚ÐµÑÑ‚Ð¾Ð² Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ:

```bash
pytest --cov=app tests/ -v
```

ÐŸÐ¾ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ Ñ‚ÐµÑÑ‚Ð°Ð¼Ð¸: >65%
